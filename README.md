# VFS Emulator

## Краткое описание
VFS Emulator — консольное приложение (CLI) для эмуляции виртуальной файловой системы (VFS) полностью в памяти. Вся структура и содержимое VFS загружаются из JSON-файла (текстовые данные) — для двоичных данных используется base64. Приложение не изменяет реальную файловую систему: все модификации происходят только в оперативной памяти (по умолчанию изменения не записываются обратно в JSON, но есть задел под экспорт).

## Реализованное (кратко)
- CLI-интерфейс с приглашением ввода, в котором видно имя VFS.
- Парсер ввода: команда + аргументы (разделение по пробелам).
- Выполнение команд в интерактивном режиме и из стартового скрипта (при запуске параметры скрипта и путь к VFS выводятся для отладки).
- Обработка ошибок: неизвестная команда, неверные аргументы, ошибки загрузки VFS (файл не найден / неверный формат).
- Поддержка работы со структурой VFS (в памяти) — минимальные и более вложенные структуры для тестов.
- Команды (реализованные):
  - `ls` — показать содержимое текущей директории;
  - `cd` — смена текущей директории;
  - `whoami` — вывести имя текущего пользователя эмулятора;
  - `cat` — вывести содержимое файла;
  - `head` — вывести первые строки файла;
  - `chown` — изменить владельца файла/папки (в памяти);
  - `rmdir` — удалить пустой каталог;
  - `exit` — выход из эмулятора.
- Стартовый скрипт выполняется построчно и по умолчанию останавливается при первой ошибке; при выполнении скрипта на экран выводится и «ввод», и «вывод» (имитация диалога).
- Набор тестовых скриптов и нескольких вариантов JSON-VFS (минимальный, несколько файлов/папок, вложенность для проверки навигации).

> Примечание: в текущей версии имеется небольшой неточный момент в документации — тестовый набор включал пример сценария с двумя стартовыми скриптами одновременно, но фактически запускается один скрипт за раз.

## Примеры использования

**Интерактивно**
```bash
$ python vfs_emulator.py
[VFS] > ls
[VFS] > cd home
[VFS] > whoami
[VFS] > cat README.txt
[VFS] > exit
```
## Запуск
```
$ python vfs_emulator.py ./vfs_data.json ./scripts/startup.txt
```
> Путь к VFS: ./vfs_data.json \
> Путь к стартовому скрипту: ./scripts/startup.txt


## Структура проекта
```
mireaconfig  C:\Users\kovalskiy\PycharmProjects\mireaconfig
  .venv  library root
  scripts
    startup_error.sh
    startup_ok.sh
  vfs
    vfs_sample.json
  .gitignore
  commands.py
  exceptions.py
  main.py
  Shell.py
  utils.py
  VFSDir.py
  VFSFile.py
  VFSNode.py

```
